---
description: Fundamental rules for all jbcom repos
globs: "**/*"
alwaysApply: true
---

# Fundamentals

## Before Acting

1. **Read before modifying** - Always read the file/code before editing
2. **Run builds after changes** - Verify your changes compile/lint
3. **Check git status** - Know what you're committing

## Making Changes

1. **One concern per commit** - Keep commits focused
2. **Run linters/tests locally** before pushing
3. **Don't consolidate code** without verifying the build

## When Copying/Moving Files

1. Read the file first
2. Check if content is relevant to destination
3. Update paths and references
4. Remove tool-specific cruft that doesn't apply

## Authentication

```bash
# jbcom repos - Use CI_GITHUB_TOKEN when available, fallback to GITHUB_TOKEN
# CI_GITHUB_TOKEN is specifically issued for CI/agent operations
GH_TOKEN="${CI_GITHUB_TOKEN:-$GITHUB_TOKEN}" gh <command>

# Preferred order:
# 1. CI_GITHUB_TOKEN - issued specifically for CI/agent workflows
# 2. GITHUB_TOKEN - general purpose token
```

## Session Management

```bash
# Start of session
cat memory-bank/activeContext.md 2>/dev/null || echo "No memory bank"
gh issue list --label agent-session 2>/dev/null || true

# End of session - update context
echo "## Session: $(date +%Y-%m-%d)" >> memory-bank/activeContext.md
```
